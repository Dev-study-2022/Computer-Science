# 경쟁 상태(Race Condition)
공유 자원에 여러 프로세스가 동시에 접근할 때, 결과값에 영향을 줄 수 있는 상태

### 경쟁 상태가 발생하는 경우
1. 커널 작업 수행 중에 인터럽트 발생
    - 문제점: 커널모드에서 데이터를 로드해 작업을 수행하다가 인터럽트가 발생해 같은 데이터를 조작하는 경우
    - 해결법: 커널모드에서 작업을 수행하는 동안, 인터럽트를 disable 시켜 CPU 제어권을
    가져가지 못하도록 한다.     
    <pre><code> 💡 커널모드: 모든 자원(드라이버, 메모리, CPU 등)에 접근, 명령할 수 있는 모드     
    💡 유저모드: 유저가 접근할 수 있는 영역을 제한적으로 두고, 프로그램의 자원에 함부로 침범하지 못하는 모드        
    프로세스는 커널모드와 유저모드를 왔다갔다하며 실행됨</code></pre>
2. 프로세스가 'System Call'을 하여 커널 모드로 진입해 작업을 수행하는 도중 문맥 교환이 발생할 때
    - 문제점 : 프로세스1이 커널모드에서 데이터를 조작하는 도중, 시간이 초과되어 CPU 제어권이 프로세스2로 넘어가     
    같은 데이터를 조작하는 경우
    - 해결법 : 프로세스가 커널모드에서 작업을 하는 경우 시간이 초과되어도 CPU 제어권이 다른 프로세스에게 넘어가지 않도록 함
3. 멀티 프로세서 환경에서 공유 메모리 내의 커널 데이터에 접근할 때
    - 문제점 : 멀티 프로세서 환경에서 2개의 CPU가 동시에 커널 내부의 공유 데이터에 접근하여 조작하는 경우
    - 해결법 : 커널 내부에 있는 각 공유 데이터에 접근할 때마다, 그 데이터에 대해 lock/unlock을 함